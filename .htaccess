# ═══════════════════════════════════════════════════════════════════
# SIGMA AUDLEY SEO OPTIMIZATION - .HTACCESS
# ═══════════════════════════════════════════════════════════════════

# GZIP COMPRESSION FOR FASTER LOADING
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE text/javascript
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
    AddOutputFilterByType DEFLATE application/json
</IfModule>

# BROWSER CACHING FOR BETTER PERFORMANCE
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType image/webp "access plus 1 month"
    ExpiresByType application/pdf "access plus 1 month"
</IfModule>

# SEO-FRIENDLY URL REDIRECTS
RewriteEngine On

# FORCE HTTPS (SSL) FOR SEO
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# WWW TO NON-WWW REDIRECT FOR SEO
RewriteCond %{HTTP_HOST} ^www\.sigmaaudley\.net [NC]
RewriteRule ^(.*)$ https://sigmaaudley.net/$1 [L,R=301]

# CLEAN URL STRUCTURE (REMOVE .html)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^\.]+)$ $1.html [NC,L]

# CANONICAL HOMEPAGE REDIRECTS - ENSURE INDEX.HTML DOMINANCE
RewriteRule ^home$ https://sigmaaudley.net/ [R=301,L]
RewriteRule ^main$ https://sigmaaudley.net/ [R=301,L]
RewriteRule ^homepage$ https://sigmaaudley.net/ [R=301,L]
RewriteRule ^start$ https://sigmaaudley.net/ [R=301,L]
RewriteRule ^default$ https://sigmaaudley.net/ [R=301,L]

# REDIRECT OLD URLS TO NEW STRUCTURE
Redirect 301 /peptides.html https://sigmaaudley.net/complete-research-peptide-catalog.html
Redirect 301 /products.html https://sigmaaudley.net/complete-research-peptide-catalog.html
Redirect 301 /semaglutide.html https://sigmaaudley.net/products/semaglutide-10mg-research.html
Redirect 301 /tirzepatide.html https://sigmaaudley.net/products/tirzepatide-15mg-research.html

# BRAND NAME REDIRECTS - STRENGTHEN HOMEPAGE AUTHORITY
Redirect 301 /sigma-audley https://sigmaaudley.net/
Redirect 301 /sigmaaudley https://sigmaaudley.net/
Redirect 301 /official https://sigmaaudley.net/

# SECURITY HEADERS FOR SEO TRUST
<IfModule mod_headers.c>
    Header always set X-Frame-Options DENY
    Header always set X-Content-Type-Options nosniff
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
    Header always set Permissions-Policy "geolocation=(), microphone=(), camera=()"
</IfModule>

# CUSTOM ERROR PAGES FOR SEO
ErrorDocument 404 /404.html
ErrorDocument 500 /500.html

# PREVENT ACCESS TO SENSITIVE FILES
<Files "robots.txt">
    Allow from all
</Files>

<Files "sitemap*.xml">
    Allow from all
</Files>

<Files ".htaccess">
    Deny from all
</Files>

# BLOCK BAD BOTS (WHILE ALLOWING SEO BOTS)
RewriteCond %{HTTP_USER_AGENT} (semalt|kambasoft|buttons-for-website) [NC]
RewriteRule .* - [F,L]