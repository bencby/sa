# ═══════════════════════════════════════════════════════════════════
# SIGMA AUDLEY SEO OPTIMIZATION - .HTACCESS
# ═══════════════════════════════════════════════════════════════════

# GZIP COMPRESSION FOR FASTER LOADING
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE text/javascript
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
    AddOutputFilterByType DEFLATE application/json
</IfModule>

# BROWSER CACHING FOR BETTER PERFORMANCE
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType image/webp "access plus 1 month"
    ExpiresByType application/pdf "access plus 1 month"
</IfModule>

# SEO-FRIENDLY URL REDIRECTS
RewriteEngine On

# FORCE HTTPS (SSL) FOR SEO
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# WWW TO NON-WWW REDIRECT FOR SEO
RewriteCond %{HTTP_HOST} ^www\.sigmaaudley\.net [NC]
RewriteRule ^(.*)$ https://sigmaaudley.net/$1 [L,R=301]

# CLEAN URL STRUCTURE (REMOVE .html)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^\.]+)$ $1.html [NC,L]

# CANONICAL HOMEPAGE REDIRECTS - ENSURE INDEX.HTML DOMINANCE
RewriteRule ^home$ https://sigmaaudley.net/ [R=301,L]
RewriteRule ^main$ https://sigmaaudley.net/ [R=301,L]
RewriteRule ^homepage$ https://sigmaaudley.net/ [R=301,L]
RewriteRule ^start$ https://sigmaaudley.net/ [R=301,L]
RewriteRule ^default$ https://sigmaaudley.net/ [R=301,L]

# ═══════════════════════════════════════════════════════════════════
# RANKING RECOVERY REDIRECTS - SEPTEMBER 12, 2025
# Consolidating 45 pages to 4 core pages
# ═══════════════════════════════════════════════════════════════════

# PRIORITY 1: GOOGLE-INDEXED PAGES (Must redirect properly)
Redirect 301 /reviews-2024.html /trust-and-reviews.html
Redirect 301 /research-institution-partnership.html /index.html
Redirect 301 /shipping-authenticity-guarantee.html /index.html
Redirect 301 /usa-peptide-supplier.html /index.html
Redirect 301 /price_list.html /index.html#pricing
Redirect 301 /canada-peptide-supplier.html /index.html
Redirect 301 /certificate-of-analysis.html /trust-and-reviews.html
Redirect 301 /sigma-audley-official.html /index.html
Redirect 301 /sigma-audley-vs-competitors.html /index.html
Redirect 301 /research-peptides-ultimate-authority.html /index.html
Redirect 301 /complete-research-peptide-catalog.html /index.html#products
Redirect 301 /usa-research-peptides-supplier.html /index.html
Redirect 301 /glp1-forum-verified-excellence.html /trust-and-reviews.html
Redirect 301 /peptides-better-than-sigma-aldrich.html /index.html
Redirect 301 /germany-research-peptides-supplier.html /index.html
Redirect 301 /sigma-audley-not-sigma-aldrich.html /index.html

# FIX OLD REDIRECTS - These pages no longer exist
Redirect 301 /peptides.html /index.html#products
Redirect 301 /products.html /index.html#products
Redirect 301 /semaglutide.html /index.html#products
Redirect 301 /tirzepatide.html /index.html#products

# REMAINING NON-INDEXED PAGES
Redirect 301 /reviews-2020.html /trust-and-reviews.html
Redirect 301 /reviews-2021.html /trust-and-reviews.html
Redirect 301 /reviews-2022.html /trust-and-reviews.html
Redirect 301 /reviews-2023.html /trust-and-reviews.html
Redirect 301 /reviews-2025.html /trust-and-reviews.html
Redirect 301 /uk-peptide-supplier.html /index.html
Redirect 301 /australia-peptide-supplier.html /index.html
Redirect 301 /how-to-spot-fake-peptides.html /faq.html
Redirect 301 /peptide-storage-handling-guide.html /faq.html
Redirect 301 /official-website-verification.html /index.html
Redirect 301 /telegram-scam-warning.html /faq.html
Redirect 301 /research-protocols-educational-hub.html /index.html
Redirect 301 /comprehensive-internal-linking-structure.html /index.html
Redirect 301 /reddit-peptides-trusted-supplier.html /trust-and-reviews.html
Redirect 301 /bulk-orders-institutions.html /index.html
Redirect 301 /fast-shipping-research-peptides.html /index.html
Redirect 301 /research-grade-peptides-comparison.html /index.html
Redirect 301 /why-choose-sigma-audley.html /index.html
Redirect 301 /competitor-analysis-peptide-suppliers.html /index.html
Redirect 301 /promo-message.html /index.html
Redirect 301 /promo-messages-platforms.html /index.html
Redirect 301 /test-enhanced-conversions.html /index.html
Redirect 301 /test-google-ads-tracking.html /index.html
Redirect 301 /google-ads-debug.html /index.html
Redirect 301 /tiktok-comments-promotional.html /index.html
Redirect 301 /tiktok-viral-post.html /index.html
Redirect 301 /index2.0.html /index.html
Redirect 301 /site-plan.html /index.html

# BRAND NAME REDIRECTS - STRENGTHEN HOMEPAGE AUTHORITY
Redirect 301 /sigma-audley https://sigmaaudley.net/index.html
Redirect 301 /sigmaaudley https://sigmaaudley.net/index.html
Redirect 301 /official https://sigmaaudley.net/index.html

# SECURITY HEADERS FOR SEO TRUST
<IfModule mod_headers.c>
    Header always set X-Frame-Options DENY
    Header always set X-Content-Type-Options nosniff
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
    Header always set Permissions-Policy "geolocation=(), microphone=(), camera=()"
</IfModule>

# CUSTOM ERROR PAGES FOR SEO
ErrorDocument 404 /404.html
ErrorDocument 500 /500.html

# PREVENT ACCESS TO SENSITIVE FILES
<Files "robots.txt">
    Allow from all
</Files>

<Files "sitemap*.xml">
    Allow from all
</Files>

<Files ".htaccess">
    Deny from all
</Files>

# BLOCK BAD BOTS (WHILE ALLOWING SEO BOTS)
RewriteCond %{HTTP_USER_AGENT} (semalt|kambasoft|buttons-for-website) [NC]
RewriteRule .* - [F,L]